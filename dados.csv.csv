@st.cache_data
def load_data():
    # --- OPÇÃO 2: LENDO DO ARQUIVO LOCAL (GARANTIDO) ---
    # Se o link der erro 401, usamos o arquivo que você subiu no GitHub
    df = pd.read_csv("dados.csv")
    
    # Tratamento de erros (mantemos igual)
    # Substituir vírgula por ponto se o Excel salvou no padrão brasileiro (R$ 1.000,00)
    # Se sua planilha já usa ponto (1000.00), essas linhas não atrapalham.
    for col in ["Custo Orçado", "Custo Realizado"]:
        if df[col].dtype == "object": # Se for lido como texto
            df[col] = df[col].str.replace("R$", "", regex=False).str.replace(".", "", regex=False).str.replace(",", ".", regex=False)

    df["Custo Orçado"] = pd.to_numeric(df["Custo Orçado"], errors="coerce").fillna(0)
    df["Custo Realizado"] = pd.to_numeric(df["Custo Realizado"], errors="coerce").fillna(0)
    
    return df
